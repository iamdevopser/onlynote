# MySQL Service Dockerfile
FROM mysql:8.0

# Copy custom MySQL configuration if it exists
RUN mkdir -p /etc/mysql/conf.d
RUN if [ -f "docker/mysql/my.cnf" ]; then \
    cp docker/mysql/my.cnf /etc/mysql/conf.d/my.cnf; \
    else \
    echo "# MySQL Configuration" > /etc/mysql/conf.d/my.cnf; \
    fi

# Expose MySQL port
EXPOSE 3306

# Use default MySQL entrypoint
# Environment variables should be set in docker-compose
CMD ["mysqld"]

